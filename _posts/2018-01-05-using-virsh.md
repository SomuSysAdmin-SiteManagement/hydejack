---
layout : post
title : 'Using virsh'
tags : [RHCSA, RHCSA_mod, Working with Virtual Machines, Using virsh]
categories: [RHCSA]
---


KVM requires a 64-bit architecture host. This can be verified by using:

``` console
# arch
x86_64
```

The `x86_64` output tells us that the installed OS is 64-bit. The
Virtualization shell is opened by simply typing `virsh` which in turn
supports a lot of commands.

``` console
# virsh
Welcome to virsh, the virtualization interactive terminal.

Type:  'help' for help with commands
'quit' to quit

virsh #
```

## Virsh commands

### virsh list

The following are the `virsh list` commands. They need to be run from
the CLI directly. If the commands are being run from within the
sub-shell provided by `virsh` then only the second command onward
suffices (i.e., virsh need not be retyped).

<span>lM<span>0.64</span></span> **Command** &**Description**  
**virsh list** \&Shows all the virtual machines that are currently
running  
**virsh list all** \&Shows all virtual machines that exist  
**virsh destroy \<vmName\>** \&Merely pulls the plug on the VM, i.e.,
immediately terminates the running VM.  
**virsh start \<vmName\>** \&Starts the VM.  

Each virtual machine on the system has a configuration file that defines
what the VM consists of. The `/etc/libvirt/` folder is related to the
configuration of the `libvirtd` daemon that acts as a common interface
for all KVM managers. Inside it is a directory called `qemu`. **qemu**
is an old emulator that has been adapted for use in the KVM environment.
The qemu configuration files are stored in this `/etc/libvirt/qemu`
directory in XML format. This file is auto-generated by virsh, and thus
should only be edited with `virsh edit <vmName>`. This has the benefit
of ensuring nothing else is concurrently editing the file.
